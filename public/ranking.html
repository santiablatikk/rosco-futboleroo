<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Ranking Global - Rosco Futbolero</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="css/ranking.css" />
    <link rel="stylesheet" href="css/styles.css" />
    <!-- Fuentes -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXX" crossorigin="anonymous"></script>
  </head>
  <body>
    <div class="ranking-container">
      <h1>Ranking Global del Rosco Futbolero</h1>
      
      <div class="ranking-scroll">
        <table id="ranking-table">
          <thead>
            <tr>
              <th>Jugador</th>
              <th>Correctas</th>
              <th>Erróneas</th>
              <th>Total</th>
              <th>Fecha</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="button-container">
        <a href="index.html" class="pretty-btn" id="volver">Volver al inicio</a>
      </div>
    </div>

    <!-- Footer común -->
    <footer class="policy-footer">
      <p>&copy; 2025 PASALA CHÉ. Todos los derechos reservados.</p>
      <div class="footer-links-mini">
        <a href="privacy.html" class="mini-btn">Privacidad</a>
        <a href="cookies.html" class="mini-btn">Cookies</a>
        <a href="contact.html" class="mini-btn">Contacto</a>
      </div>
    </footer>

    <!-- AdSense Container (Moved here from ranking body) -->
    <div class="adsense-container">
      <div class="ad-label">PUBLICIDAD</div>
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-XXXXXXXXXXXXXXX"
           data-ad-slot="XXXXXXXXXX"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>
           (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

    <script src="js/ranking.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const volverBtn = document.getElementById("volver");
        const alreadyPlayed = localStorage.getItem("alreadyPlayed") === "true";
        
        // Restaurar funcionalidad del botón Volver
        if (alreadyPlayed) {
          volverBtn.textContent = "Volver a jugar";
          volverBtn.addEventListener("click", () => {
            window.location.href = "index.html?playAgain=true";
          });
        } else {
          volverBtn.addEventListener("click", () => {
            window.location.href = "index.html";
          });
        }
        
        // Función para mostrar/ocultar anuncios según las preferencias de cookies
        function checkCookieConsent() {
          const hasConsent = localStorage.getItem("adConsent") === "true";
          const adElements = document.querySelectorAll(".adsbygoogle");
          
          adElements.forEach(ad => {
            if (!hasConsent) {
              ad.style.display = "none";
              ad.closest(".adsense-container").style.display = "none";
            }
          });
        }
        
        // Comprobar el consentimiento al cargar
        checkCookieConsent();
      });
    </script>
  </body>
</html>
