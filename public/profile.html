<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color" content="#1e293b">
  <title>Perfil - PASALA CHE</title>
  <!-- Estilos -->
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/footer-styles.css">
  <link rel="stylesheet" href="css/profile-styles.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Fuentes -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Scripts -->
  <script src="js/utils.js"></script>
  <script src="js/theme-switcher.js" defer></script>
  <script src="js/profile.js" defer></script>
</head>
<body>
  <!-- Partículas de fondo -->
  <div id="particles-js"></div>

  <div class="app-container">
    <!-- Header con navegación -->
    <header class="profile-header">
      <div class="logo-container">
        <a href="index.html" class="logo-link">
          <i class="fas fa-futbol ball-icon"></i>
          <h1 class="title-text">PASALA CHE</h1>
        </a>
      </div>
      <div class="nav-links">
        <a href="index.html" class="nav-link">
          <i class="fas fa-home"></i> Inicio
        </a>
        <a href="ranking.html" class="nav-link">
          <i class="fas fa-trophy"></i> <span data-i18n="nav_ranking">Ranking Global</span>
        </a>
      </div>
      <div class="theme-switcher">
        <button id="theme-toggle" aria-label="Cambiar tema">
          <i class="fas fa-moon"></i>
          <i class="fas fa-sun"></i>
        </button>
      </div>
    </header>

    <div class="profile-content">
      <!-- Tarjeta de perfil -->
      <div class="profile-card">
        <div class="profile-header-section">
          <div class="profile-avatar">
            <i class="fas fa-user-circle"></i>
          </div>
          <div class="profile-info">
            <h2 id="profile-name">Cargando...</h2>
            <p class="profile-tagline">Miembro desde <span id="member-since">...</span></p>
          </div>
        </div>

        <!-- Botones de acción -->
        <div class="profile-actions">
          <button id="play-btn" class="action-btn primary-btn">
            <i class="fas fa-play"></i> Jugar ahora
          </button>
          <button id="achievements-btn" class="action-btn secondary-btn">
            <i class="fas fa-trophy"></i> Ver logros
          </button>
          <button id="reset-profile-btn" class="action-btn danger-btn">
            <i class="fas fa-trash-alt"></i> Restablecer perfil
          </button>
        </div>

        <!-- Resumen de estadísticas -->
        <div class="stats-overview">
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-gamepad"></i>
            </div>
            <div class="stat-data">
              <span class="stat-value" id="total-games">0</span>
              <span class="stat-label">Partidas jugadas</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-trophy"></i>
            </div>
            <div class="stat-data">
              <span class="stat-value" id="victories">0</span>
              <span class="stat-label">Victorias</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-chart-line"></i>
            </div>
            <div class="stat-data">
              <span class="stat-value" id="win-rate">0%</span>
              <span class="stat-label">% de victorias</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-star"></i>
            </div>
            <div class="stat-data">
              <span class="stat-value" id="high-score">0</span>
              <span class="stat-label">Mejor puntuación</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Sección de estadísticas detalladas -->
      <div class="detailed-stats-container">
        <h2 class="section-title"><i class="fas fa-chart-bar"></i> Estadísticas detalladas</h2>
        
        <!-- Gráficos y estadísticas -->
        <div class="stats-grid">
          <!-- Tarjeta de respuestas -->
          <div class="detailed-stat-card answers-card">
            <h3>Respuestas</h3>
            <div class="chart-container">
              <div class="donut-chart-container">
                <canvas id="answers-chart"></canvas>
              </div>
              <div class="chart-legend">
                <div class="legend-item">
                  <span class="legend-color" style="background-color: #4CAF50;"></span>
                  <span class="legend-text">Correctas: <b id="total-correct">0</b></span>
                </div>
                <div class="legend-item">
                  <span class="legend-color" style="background-color: #F44336;"></span>
                  <span class="legend-text">Incorrectas: <b id="total-incorrect">0</b></span>
                </div>
                <div class="legend-item">
                  <span class="legend-color" style="background-color: #2196F3;"></span>
                  <span class="legend-text">Pasadas: <b id="total-skipped">0</b></span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Tarjeta de dificultad -->
          <div class="detailed-stat-card difficulty-card">
            <h3>Partidas por dificultad</h3>
            <div class="chart-container">
              <div class="donut-chart-container">
                <canvas id="difficulty-chart"></canvas>
              </div>
              <div class="chart-legend">
                <div class="legend-item">
                  <span class="legend-color" style="background-color: #4CAF50;"></span>
                  <span class="legend-text">Fácil: <b id="easy-games">0</b></span>
                </div>
                <div class="legend-item">
                  <span class="legend-color" style="background-color: #FFC107;"></span>
                  <span class="legend-text">Normal: <b id="normal-games">0</b></span>
                </div>
                <div class="legend-item">
                  <span class="legend-color" style="background-color: #F44336;"></span>
                  <span class="legend-text">Difícil: <b id="hard-games">0</b></span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Tarjeta de estadísticas de tiempo -->
          <div class="detailed-stat-card time-card">
            <h3>Estadísticas de tiempo</h3>
            <div class="stat-row-container">
              <div class="stat-row">
                <span class="stat-row-label">Tiempo total jugado:</span>
                <span class="stat-row-value" id="total-time-played">0 minutos</span>
              </div>
              <div class="stat-row">
                <span class="stat-row-label">Tiempo promedio por partida:</span>
                <span class="stat-row-value" id="avg-time-per-game">0 segundos</span>
              </div>
              <div class="stat-row">
                <span class="stat-row-label">Mejor tiempo restante:</span>
                <span class="stat-row-value" id="best-remaining-time">0 segundos</span>
              </div>
            </div>
          </div>
          
          <!-- Tarjeta de uso de ayudas -->
          <div class="detailed-stat-card help-card">
            <h3>Uso de ayudas</h3>
            <div class="stat-row-container">
              <div class="stat-row">
                <span class="stat-row-label">Total de ayudas usadas:</span>
                <span class="stat-row-value" id="total-hints-used">0</span>
              </div>
              <div class="stat-row">
                <span class="stat-row-label">Promedio de ayudas por partida:</span>
                <span class="stat-row-value" id="avg-hints-per-game">0</span>
              </div>
              <div class="stat-row">
                <span class="stat-row-label">Partidas sin usar ayudas:</span>
                <span class="stat-row-value" id="games-without-hints">0</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Historial de partidas recientes -->
      <div class="game-history-container">
        <h2 class="section-title"><i class="fas fa-history"></i> Historial de partidas recientes</h2>
        <div class="game-history-table-container">
          <table class="game-history-table">
            <thead>
              <tr>
                <th>Fecha</th>
                <th>Dificultad</th>
                <th>Correctas</th>
                <th>Incorrectas</th>
                <th>Pasadas</th>
                <th>Tiempo</th>
                <th>Puntuación</th>
                <th>Resultado</th>
              </tr>
            </thead>
            <tbody id="game-history-tbody">
              <!-- Se llenará dinámicamente -->
            </tbody>
          </table>
        </div>
        <div id="no-history-message" class="no-history-message">
          <i class="fas fa-info-circle"></i>
          <p>Aún no has jugado ninguna partida.</p>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="policy-footer">
      <div class="footer-links-mini">
        <a href="terms.html"><i class="fas fa-file-contract"></i> Términos</a>
        <a href="privacy.html"><i class="fas fa-lock"></i> Privacidad</a>
        <a href="blog.html"><i class="fas fa-blog"></i> Blog</a>
        <a href="cookies.html"><i class="fas fa-cookie-bite"></i> Cookies</a>
        <a href="contact.html"><i class="fas fa-envelope"></i> Contacto</a>
        <a href="about.html"><i class="fas fa-info-circle"></i> Acerca de</a>
      </div>
      <div class="copyright-text">&copy; 2025 PASALA CHE - El Juego del Rosco Futbolero.</div>
      <div class="footer-social-icons">
        <a href="https://www.facebook.com/pasalachee" class="social-icon"><i class="fab fa-facebook-f"></i></a>
        <a href="https://twitter.com/pasalachee" class="social-icon"><i class="fab fa-twitter"></i></a>
        <a href="https://www.instagram.com/pasalachee" class="social-icon"><i class="fab fa-instagram"></i></a>
        <a href="https://www.youtube.com/c/pasalachee" class="social-icon"><i class="fab fa-youtube"></i></a>
      </div>
    </footer>
  </div>

  <!-- Toast para notificaciones -->
  <div id="notification" class="toast" style="display: none;"></div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script src="js/particles-config.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html> 